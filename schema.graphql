enum TokenType {
  Standard
  Stable
}

type Token @entity {
  id: ID!

  symbol: String!
  name: String!
  decimals: BigInt!
  totalSupply: BigInt!

  type: TokenType!

  price: BigDecimal!
  updated: BigInt!
}

type TokenGeyser @entity {
  id: ID!

  stakingToken: Token!
  rewardToken: Token!

  startBonus: BigInt!
  bonusPeriodSec: BigInt!
  sharesPerToken: BigInt!

  users: BigInt!
  operations: BigInt!

  staked: BigDecimal!
  rewards: BigDecimal! # current rewards
  totalUnlockedRewards: BigDecimal! # total unlocked rewards (not current)

  stakedUSD: BigDecimal!
  rewardsUSD: BigDecimal!
  totalUnlockedRewardsUSD: BigDecimal!

  tvl: BigDecimal!
  apy: BigDecimal!
  updated: BigInt!

  createdTimestamp: BigInt!
  createdBlock: BigInt!
}

type User @entity {
  id: ID!

  operations: BigInt!
  earned: BigDecimal!
  
  stakes: [Stake!]
}

type Stake @entity {
  id: ID!

  amount: BigInt!
  user: User!
  shares: BigDecimal!

  timestamp: BigInt!
}
